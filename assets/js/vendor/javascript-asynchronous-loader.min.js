function Loader(a,b){this.loadCount=0,this.totalRequired=a.length,this.callback=b;for(var c=a.length;c--;)document.getElementById(a[c])&&"loaded"===document.getElementById(a[c]).loaded&&(this.totalRequired--,a.splice(c,1));for(0===this.totalRequired&&b(),c=a.length;c--;)this.writeScript(a[c])}var $script=function(a,b){new Loader(a,b)};$script.path=function(a){Loader.prototype.path=a},Loader.prototype={loaded:function(a,b){this.loadCount++,b.loaded="loaded",this.loadCount==this.totalRequired&&"function"==typeof this.callback&&this.callback.call()},path:"",attach_callback:function(a){var b=this;a.readyState?a.onreadystatechange=function(){("loaded"==a.readyState||"complete"==a.readyState)&&(a.onreadystatechange=null,b.loaded("a",a))}:a.addEventListener?a.addEventListener("load",function(c){b.loaded(c,a)},!1):a.attachEvent&&a.attachEvent("load",function(c){b.loaded(c,a)})},writeScript:function(a){var b=this;if(document.getElementById(a)){var c=document.getElementById(a);return void b.attach_callback(c)}var d=document.createElement("script");d.id=a,d.type="text/javascript",d.async=!0,a.split("//").length>1?d.src=a:d.src=this.path+a,b.attach_callback(d);var e=document.getElementsByTagName("head")[0];e.appendChild(d)}};